type Query {
    resorts: [Resort!]!
    resort(id: Int!): Resort
    resortBySlug(slug: String!): Resort
    waitTimeDate(resortSlug: String!, date: Date!): WaitTimeDate
	liftList(offset: Int!, limit: Int!, orderBy: String!, order: String!, name: String, typeID: Int, resortID: Int, isActive: Boolean): LiftList!
	intersectingLifts(topLeft: LocationInput!, bottomRight: LocationInput!): [Lift!]
	lift(id: Int!): Lift
	uplifts(liftID: Int!, seasonYear: Int, month: Int, day: Int, hour: Int): [Uplift!]
}
type Mutation {
	createResort(name: String!, slug: String!, logoFilename: String!, trailMapFilename: String!, latitude: Float!, longitude: Float!, timezone: String!) : Resort
	updateResort(id: Int!, name: String!, slug: String!, logoFilename: String!, trailMapFilename: String!, latitude: Float!, longitude: Float!, timezone: String!) : Resort
	updateResortAssignedLifts(id: Int!, liftIDs: [Int!]) : Resort
	updateLift(id: Int!, name: String!, typeID: Int!, resortID: Int, occupancy: Int, isActive: Boolean!, station1Lat: Float!, station1Lng: Float!, station2Lat: Float!, station2Lng: Float!, station3Lat: Float, station3Lng: Float, station4Lat: Float, station4Lng: Float, station5Lat: Float, station5Lng: Float): Lift
}
type Resort {
    id: Int!
    name: String!
    slug: String!
    logoFilename: String!
    trailMapFilename: String!
	timezone: String!
	location: Location
	liftEnvelope: [Location!]
	hasWaitTimes: Boolean!
    sortOrder: Int!
    dates: [WaitTimeDate!]
	lastDate: WaitTimeDate
    lifts: [Lift!]
	upliftGroupings(groupBy: UpliftGroupBy!, groupBy2: UpliftGroupBy): [UpliftGrouping!]
}
type Lift {
    id: Int!
    name: String
    resort: Resort
	type: LiftType!
	occupancy: Int
	isActive: Boolean!
	stations: [LiftStation!]!
	upliftList(offset: Int!, limit: Int!, orderBy: String!, order: String!, seasonYear: Int, month: Int, day: Int, hour: Int): UpliftList!
	upliftGroupings(groupBy: UpliftGroupBy!, groupBy2: UpliftGroupBy): [UpliftGrouping!]
}
type WaitTimeDate {
	id: String!
    resort: Resort!
    date: Date!
    timePeriods: [WaitTimePeriod!]
}
type WaitTimePeriod {
    timestamp: Int!
    resortID: Int!
    waitTimes: [WaitTime!]!
}
type WaitTime {
    liftID: Int!
    seconds: Int!
} 
type UpliftGrouping {
	groupKey: Int!
	groupDescription: String!
	group2Key: Int
	group2Description: String
	upliftCount: Int!
	waitTimeAverage: Int!
}
type Uplift {
	id: Int!
	lift: Lift!
	season: Season!
	date: Date!
	waitSeconds: Int!
}
type LiftStation {
	number: Int!
	name: String!
	location: Location!
}
type Location {
	lat: Float!
	lng: Float!
}
input LocationInput {
	lat: Float!
	lng: Float!
}
type LiftList {
	count: Int!
	lifts: [Lift!]!
}
type UpliftList {
	count: Int!
	uplifts: [Uplift!]!
}
type Season {
	year: Int!
	description: String!
}
type LiftType {
	id: Int!
	description: String!
}
enum UpliftGroupBy {
  Season
  Month
  Day
  Hour
  Lift
}

scalar Date